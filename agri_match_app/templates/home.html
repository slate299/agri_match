{% extends 'base.html' %}

{% block content %}
<!-- Hero Section -->
<div class="jumbotron text-center bg-light">
    <h1 class="display-4">Welcome to Agri-Match</h1>
    <p class="lead">Empowering farmers and operators by connecting them with the tools, services, and expertise they need to succeed.</p>
    <hr class="my-4">
    <p class="lead">Join us in advancing SDG 2 (Zero Hunger) through innovative solutions for agricultural machinery rentals, skilled operators, and more.</p>
    <a class="btn btn-success btn-lg" href="{% url 'create_listing' %}" role="button">Create Your Listing</a>
</div>

<!-- Carousel Section -->
<div id="heroCarousel" class="carousel slide" data-ride="carousel">
    <ol class="carousel-indicators">
        <li data-target="#heroCarousel" data-slide-to="0" class="active"></li>
        <li data-target="#heroCarousel" data-slide-to="1"></li>
        <li data-target="#heroCarousel" data-slide-to="2"></li>
    </ol>
    <div class="carousel-inner">
        <div class="carousel-item active">
            <img src="{% static 'images/hero1.jpg' %}" class="d-block w-100" alt="Agricultural Machinery">
            <div class="carousel-caption d-none d-md-block">
                <h5>Revolutionizing Farming</h5>
                <p>Access a variety of agricultural machinery and services to help your farm grow.</p>
            </div>
        </div>
        <div class="carousel-item">
            <img src="{% static 'images/hero2.jpg' %}" class="d-block w-100" alt="Operator Services">
            <div class="carousel-caption d-none d-md-block">
                <h5>Skilled Operators On Demand</h5>
                <p>Hire experienced operators to handle your machinery and boost productivity.</p>
            </div>
        </div>
        <div class="carousel-item">
            <img src="{% static 'images/hero3.jpg' %}" class="d-block w-100" alt="Farmers Collaboration">
            <div class="carousel-caption d-none d-md-block">
                <h5>Collaborating for Success</h5>
                <p>Build a community of farmers, operators, and service providers working together.</p>
            </div>
        </div>
    </div>
    <a class="carousel-control-prev" href="#heroCarousel" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#heroCarousel" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>

<!-- Featured Listings Section -->
<h2 class="text-center my-5">Featured Listings</h2>

<div class="container">
    <div class="row">
        {% for listing in listings %}
            <div class="col-md-4 mb-4">
                <div class="card shadow-sm">
                    <img src="{% static 'images/default-listing.jpg' %}" class="card-img-top" alt="Listing Image">
                    <div class="card-body">
                        <h5 class="card-title">{{ listing.title }}</h5>
                        <p class="card-text">{{ listing.description|truncatewords:20 }}</p>
                        <p class="card-text"><strong>Price:</strong> KSh {{ listing.price }}</p>
                        <a href="{% url 'rent_item' listing.id %}" class="btn btn-outline-success">Rent Now</a>
                    </div>
                </div>
            </div>
        {% empty %}
            <p>No listings available at the moment.</p>
        {% endfor %}
    </div>
</div>

<!-- How it Works Section -->
<div class="container my-5 text-center">
    <h2 class="mb-4">How It Works</h2>
    <div class="row">
        <div class="col-md-4">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h5 class="card-title">Create Your Listing</h5>
                    <p class="card-text">Whether youâ€™re offering machinery or operator services, get started by creating a listing.</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h5 class="card-title">Browse Listings</h5>
                    <p class="card-text">Search and browse through available listings to find the equipment or service you need.</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h5 class="card-title">Rent or Hire</h5>
                    <p class="card-text">Rent machinery or hire operators directly through the platform for your agricultural needs.</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Testimonials Section (Optional) -->
<div class="container my-5 text-center">
    <h2 class="mb-4">What Our Users Say</h2>
    <div class="row">
        <div class="col-md-4">
            <div class="card shadow-sm">
                <div class="card-body">
                    <p class="card-text">"Agri-Match helped me find the perfect tractor for my farm at an affordable price. Highly recommended!"</p>
                    <footer class="blockquote-footer">John Doe, Farmer</footer>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card shadow-sm">
                <div class="card-body">
                    <p class="card-text">"The platform made it so easy to hire experienced operators. My farm is running smoother than ever!"</p>
                    <footer class="blockquote-footer">Jane Smith, Farm Manager</footer>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card shadow-sm">
                <div class="card-body">
                    <p class="card-text">"A game changer for connecting local farmers with the tools and services they need to succeed."</p>
                    <footer class="blockquote-footer">Mike Johnson, Equipment Owner</footer>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}
